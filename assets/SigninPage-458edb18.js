import{P as y,r as d,u as p,j as e,e as C,g as P,c as I,f as b,h as k,S as E}from"./index-d96dd00d.js";import{B,S as T}from"./BackgroundLayout-2dd4f64a.js";import{u as v,g as F,F as V,S as h,T as u,I as c,d as L,n as N,e as R,a as z,p as W,c as q,q as D,C as O,m as H}from"./CustomizedSnackbar-f6f3409b.js";import{C as K}from"./assertThisInitialized-57ba5fdf.js";const g=({isLoading:r})=>{const[o,t]=d.useState(!1),[l,i]=d.useState(!1),[a,S]=d.useState(!1),x=n=>{s.handleChange(n),t(!s.errors.email)},j=p(),w=n=>{s.handleChange(n),i(!s.errors.password)},m=(n,{resetForm:f})=>{f(),t(!1),i(!1),j(P(n))},s=v({initialValues:{email:"",password:""},validationSchema:F(),onSubmit:m});return e.jsxs(e.Fragment,{children:[e.jsxs(V,{className:s.touched.email&&!s.errors.email&&o?"correct":s.touched.email&&s.errors.email?"error":"",style:{zIndex:100},onSubmit:s.handleSubmit,children:[e.jsxs(h,{children:[e.jsx(u,{disabled:r,style:{marginBottom:"14px"},type:"email",name:"email",placeholder:"Email",value:s.values.email,error:s.touched.email&&s.errors.email,correct:s.touched.email&&!s.errors.email&&o,onChange:x,onBlur:s.handleBlur}),s.touched.email&&e.jsx(e.Fragment,{children:o?e.jsx(c,{src:L,alt:"Done"}):e.jsx(c,{src:C,alt:"error"})})]}),s.touched.email&&s.errors.email&&e.jsx(N,{children:s.errors.email}),e.jsxs(h,{children:[e.jsx(u,{disabled:r,type:a?"text":"password",name:"password",placeholder:"Password",value:s.values.password,error:s.touched.password&&s.errors.password,correct:s.touched.password&&!s.errors.password&&l,onChange:w,onBlur:s.handleBlur}),e.jsx(c,{src:a?R:z,alt:a?"Hide":"Show",onClick:()=>S(!a)})]}),s.touched.password&&s.errors.password&&e.jsx(W,{children:s.errors.password})]}),e.jsxs(q,{type:"submit",disabled:!o||!l||r,onClick:()=>m(s.values,s),children:["Sign In ",r&&e.jsx(K,{size:20})]})]})};g.propTypes={isLoading:y.bool.isRequired};const J=()=>{const{error:r,isLoading:o}=I(i=>({error:i.auth.error,isLoading:b(i)})),{search:t}=k(),l=p();return d.useEffect(()=>{const a=new URLSearchParams(t).get("token");a&&l({type:E,payload:{token:a}})},[]),e.jsxs(B,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Sign In"}),e.jsx(g,{isLoading:o}),e.jsx(O,{to:"/signup",children:"Registration"})]}),r&&e.jsx(H,{severity:"error",message:r})]})};export{J as SigninPage,J as default};
