import{P as y,r as d,u as p,j as e,e as C,g as P,c as b,f as k,h as I,S as E}from"./index-7d8bbf8c.js";import{B,S as T}from"./BackgroundLayout-25572d63.js";import{b as v,g as F,F as L,S as h,T as u,I as c,e as V,K as N,f as R,h as z,L as W,k as D,C as H,M as K,H as O,J as q}from"./CustomizedSnackbar-333dd514.js";import"./assertThisInitialized-24ccde1e.js";const g=({isLoading:r})=>{const[o,t]=d.useState(!1),[l,i]=d.useState(!1),[a,S]=d.useState(!1),x=n=>{s.handleChange(n),t(!s.errors.email)},j=p(),w=n=>{s.handleChange(n),i(!s.errors.password)},m=(n,{resetForm:f})=>{f(),t(!1),i(!1),j(P(n))},s=v({initialValues:{email:"",password:""},validationSchema:F(),onSubmit:m});return e.jsxs(e.Fragment,{children:[e.jsxs(L,{className:s.touched.email&&!s.errors.email&&o?"correct":s.touched.email&&s.errors.email?"error":"",style:{zIndex:100},onSubmit:s.handleSubmit,children:[e.jsxs(h,{children:[e.jsx(u,{disabled:r,style:{marginBottom:"14px"},type:"email",name:"email",placeholder:"Email",value:s.values.email,error:s.touched.email&&s.errors.email,correct:s.touched.email&&!s.errors.email&&o,onChange:x,onBlur:s.handleBlur}),s.touched.email&&e.jsx(e.Fragment,{children:o?e.jsx(c,{src:V,alt:"Done"}):e.jsx(c,{src:C,alt:"error"})})]}),s.touched.email&&s.errors.email&&e.jsx(N,{children:s.errors.email}),e.jsxs(h,{children:[e.jsx(u,{disabled:r,type:a?"text":"password",name:"password",placeholder:"Password",value:s.values.password,error:s.touched.password&&s.errors.password,correct:s.touched.password&&!s.errors.password&&l,onChange:w,onBlur:s.handleBlur}),e.jsx(c,{src:a?R:z,alt:a?"Hide":"Show",onClick:()=>S(!a)})]}),s.touched.password&&s.errors.password&&e.jsx(W,{children:s.errors.password})]}),e.jsxs(D,{type:"submit",disabled:!o||!l||r,onClick:()=>m(s.values,s),children:["Sign In ",r&&e.jsx(H,{size:20})]})]})};g.propTypes={isLoading:y.bool.isRequired};const A=()=>{const{error:r,isLoading:o}=b(i=>({error:i.auth.error,isLoading:k(i)})),{search:t}=I(),l=p();return d.useEffect(()=>{const a=new URLSearchParams(t).get("token");a&&l({type:E,payload:{token:a}})},[]),e.jsxs(B,{children:[e.jsxs(K,{children:[e.jsx(T,{children:"Sign In"}),e.jsx(g,{isLoading:o}),e.jsx(O,{to:"/signup",children:"Registration"})]}),r&&e.jsx(q,{severity:"error",message:r})]})};export{A as SigninPage,A as default};
